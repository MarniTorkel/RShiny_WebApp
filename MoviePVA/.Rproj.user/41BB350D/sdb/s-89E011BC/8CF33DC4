{
    "collab_server" : "",
    "contents" : "\n# ==========================================================\n# COMP5703 - IT CAPSTONE PROJECT - MOVIE VISUAL ANALYTICS\n# ==========================================================\n\nlibrary(shiny)\nlibrary(shinydashboard)\nlibrary(shinyBS)\nlibrary(shinyjs)\nlibrary(leaflet)\n#library(bubbles)\nlibrary(networkD3)\n#library(visNetwork)\n#library(sigma)\n#library(rgexf)\nlibrary(sunburstR)\nlibrary(streamgraph)\npackageVersion(\"streamgraph\")\nlibrary(htmlwidgets)\nlibrary(DT)\nlibrary(shinysky)\n#library(ndtv)\nlibrary(network)\nlibrary(networkDynamic)\nlibrary(lazyeval)\nlibrary(edgebundleR)\n#library(dygraphs) \n\nhoverJS <- 'd3.selectAll(\".node\").on(\"mouseover\", function(d) { \n   d3.select(this).select(\"text\").style(\"visibility\", \"visible\"); \n})'\n\n\n\n# Header\nheader <- dashboardHeader(\n    \n  title=\"Movie Visual Analytics\"\n  \n  ) \n\n# Sidebar\nsidebar <- dashboardSidebar(\n      sidebarMenu(id = \"tabs\",\n        menuItem(\"Overview\", tabName = \"overview\", icon=icon(\"film\")),\n        #menuItem(\"Actors\", tabname=\"costar\", icon=icon(\"users\")),\n        menuItem(\"Actors\", tabName = \"costar\", icon=icon(\"users\")),\n          #menuSubItem(\"Ego Network Visualisation\", tabName = \"temporal\"),\n        menuItem(\"Movies\", tabName = \"trend\", icon=icon(\"film\"))\n          #menuSubItem(\"Genre Trends\", tabName = \"trend\")\n          # menuSubItem(\"Predict\", tabName = \"predict\")\n        \n      )\n)\n\n# Body\nbody <- dashboardBody(\n    #tags$style(type=\"text/css\",\".shiny-output-error { visibility: hidden; }\",\".shiny-output-error:before { visibility: hidden; }\"),\n    #tags$style(type=\"text/css\",\"#td_actor { font-size: 9px;font-style: italic;}\"),\n\n    tags$head(tags$script(HTML(\"\n                         $(document).ready(function(e) {\n                               $('.sunburst-sidebar').show();\n                               })\n                               \"))),    \n  #tag$head(tags$script(src = hoverJS)),\n  tags$head(tags$style('\n     #my_tooltip {\n      position: absolute;\n      width: 300px;\n      z-index: 100;\n     }\n  ')),\n  tags$script('\n    $(document).ready(function(){\n      // id of the plot\n      $(\"#stackPlot\").mousemove(function(e){ \n\n        // ID of uiOutput\n        $(\"#my_tooltip\").show();         \n        $(\"#my_tooltip\").css({             \n          top: (e.pageY + 5) + \"px\",             \n          left: (e.pageX + 5) + \"px\"         \n        });     \n      });     \n    });\n  '),\n  # ========== OVERVIEW ==========\n  tabItems(\n    tabItem(tabName = \"overview\",\n            fluidRow(\n              column(width=12, \n                     box(title=\"IMDB Overview\", width=NULL, height=170,status= \"primary\", solidHeader=TRUE, \n                        fluidRow(\n                          column(width=2, img(src=\"dataset-thumbnail.png\", align=\"center\", width=\"110px\", height=\"110px\")),\n                          column(width=10,\"IMDB (Internet Movie Database) is a popular online database of information related to movies from around the world. It has over 4 millions titles, 8 millions casts and 250 million unique monthly users. \",br(),\"IMDB 5000 Movie Dataset from Kaggle is a subset of the IMDB (Internet Movie Data Base). It consists of 5043 movies and 28 variables, spanning across 100 years.\"))\n                        \n                        ) \n              )\n            ),\n            fluidRow(\n              column(width=5,\n                     box(title=\"Variables\", width=NULL,status= \"primary\", solidHeader=TRUE, height=\"120px\",\n                            selectInput(\"variable\", \"\", colnames(overview_list), selected=\"director_name\")),\n                     box(title=textOutput(\"dataMes\"), width=NULL, status= \"primary\", solidHeader=TRUE, height=\"253px\",\n                         verbatimTextOutput(\"varList\"))\n                         #plotOutput(\"varList\"))\n                     \n              ),\n              column(width=7,\n                     box(title=textOutput(\"caption\"), width=NULL, status= \"primary\", solidHeader=TRUE,\n                         plotOutput(\"varPlot\", height=\"330px\"))\n              )\n              \n            )),\n    \n    # ============ CO-STARRING NEWTORK ANALYSIS ============\n    tabItem(tabName = \"costar\", \n            fluidRow(\n              column(width=12, \n                      column(width=8,box(width=NULL, title=\"Co-starring Network\", status= \"primary\", solidHeader=TRUE, forceNetworkOutput(\"rnet\", height=\"305px\")),\n                             #verbatimTextOutput(\"i_actors\")),\n                              #box(width=NULL, title=\"Box Office (in Millions)\", status= \"primary\", solidHeader=TRUE,\n                               #    plotOutput(\"boPlot\", height=\"120px\"))),\n                              #   streamgraphOutput(\"stream\", width=\"100%\", height=\"120px\")),\n                             box(width=NULL,title=\"Top five highly connected actors\", status= \"primary\", solidHeader=TRUE, height=\"200px\",\n                             #verbatimTextOutput(\"i_actors\"))),\n                             column(width=9,selectInput(inputId = \"td_actor\", label = \"Select an actor for detail visual analytics\", choices = \"\", selectize=FALSE, size=5)),\n                             column(width=3,actionButton(\"search\", \"Search\")))),\n                      column(width=4,\n                             box(width=NULL, title=\"Filters\", status= \"primary\", solidHeader=TRUE,\n                                             selectInput(inputId = \"genre\", label = \"Select a genre\", choices = c(\"All\", genres_list$genre), selected=\"All\"),\n                                             sliderInput(inputId = \"ratings\", label = \"IMDB ratings\", min = 1.5, max = 9.5, value = c(7.5,9.5), step=0.5),\n                                             sliderInput(inputId = \"gross\", label = \"Box Office in millions\", min = as.integer(min(imdb_data$gross)/1000000), max = as.integer(max(imdb_data$gross)/1000000), value = c(as.integer(min(imdb_data$gross)/1000000), as.integer(max(imdb_data$gross)/1000000)), step=50),\n                                             sliderInput(inputId = \"years\", label = \"Years\", min = min(imdb_data$title_year), max = max(imdb_data$title_year), value = c(min(imdb_data$title_year), max(imdb_data$title_year)), step=4),\n                                             selectInput(inputId = \"centrality\", label = \"Select Centrality\", choices = list(\"Degree\" = \"degree\", \"Closeness\" = \"closeness\", \"Betweenness\" = \"betweenness\", \"Coreness\" = \"coreness\"), selected = \"betweenness\"),\n                                             selectInput(inputId = \"community\", label = \"Select Clustering Algorithm\", choices = list(\"Fast Greedy\" = \"fastgreedy\", \"Walktrap\" = \"walktrap\", \"Edge Betweenness\" = \"edgebetweenness\"), selected = \"fastgreedy\")\n                                         \n                                  )\n                             )\n                                \n                      ),\n              bsModal(id=\"bsModal\", title=\"Ego Network Visualisation\", trigger=\"search\", size=\"large\",\n                      tabsetPanel(type = \"tabs\",\n                                  tabPanel(\"Collaboration pattern\", textOutput(\"sbHeader\"),\n                                           tags$head(tags$style(\"#sbHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 18px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                                           sunburstOutput(\"sunburst\")),\n                                  tabPanel(\"Genre Trends\", textOutput(\"actHeader\"),\n                                           tags$head(tags$style(\"#actHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 18px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                                           plotOutput(\"activeYear\")),\n                                  # tabPanel(\"Genres Trend\", textOutput(\"barHeader\"),\n                                  #          tags$head(tags$style(\"#barHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 24px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                                  #          plotOutput(\"barPlot\"), hover = hoverOpts(id = \"plot_hover\", delay = 0),\n                                  #          sliderInput(inputId = \"Gyears\", label = \"\", min = min(imdb_data$title_year), max = max(imdb_data$title_year), value=c(min(imdb_data$title_year),max(imdb_data$title_year)), step=1, width=\"100%\")),\n                                  tabPanel(\"Small Multiple\", textOutput(\"ggHeader\"),\n                                           tags$head(tags$style(\"#ggHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 18px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                                           plotOutput(\"ggPlots\")),\n                                  # tabPanel(\"Temporal Dynamic\", textOutput(\"tdHeader\"),\n                                  #          tags$head(tags$style(\"#tdHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 18px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                                  #          plotOutput(\"tdPlots\"))\n                                  tabPanel(\"Co-starring List\", textOutput(\"tdHeader\"),\n                                           tags$head(tags$style(\"#tdHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 18px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                                           dataTableOutput(\"dTable\"))\n                                  \n                      ))\n                       \n           \n            )       \n            \n    ),\n    \n    # =========== EGO NETWORK ANALYSIS ===========\n    tabItem(tabName = \"temporal\",\n            fluidRow(width=12, \n                     box(width=12, title=\"Ego network Analysis\", status= \"primary\", solidHeader=TRUE, \n                        column(width=3), column(width=6,selectInput(inputId = \"td_actor\", label = \"Select an actor\", c(\"\",actorList), selectize=TRUE)),\n                        column(width=3,actionButton(\"search\", \"Search\")) \n                        # column(width=12, \n                        #     tabsetPanel(type = \"tabs\",\n                        #                      tabPanel(\"Collaboration pattern\", textOutput(\"sbHeader\"),\n                        #                                                       tags$head(tags$style(\"#sbHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 24px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                        #                                                      sunburstOutput(\"sunburst\")),\n                        #                      tabPanel(\"Active years\", textOutput(\"actHeader\"),\n                        #                               tags$head(tags$style(\"#actHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 24px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                        #                               plotOutput(\"active\")),\n                        #                      tabPanel(\"Genres Trend\", textOutput(\"barHeader\"),\n                        #                                                            tags$head(tags$style(\"#barHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 24px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                        #                                                            plotOutput(\"barPlot\"), hover = hoverOpts(id = \"plot_hover\", delay = 0),\n                        #                                                            sliderInput(inputId = \"Gyears\", label = \"\", min = min(imdb_data$title_year), max = max(imdb_data$title_year), value=c(min(imdb_data$title_year),max(imdb_data$title_year)), step=1, width=\"100%\")),\n                        #                      tabPanel(\"Small Multiple\", textOutput(\"ggHeader\"),\n                        #                                                            tags$head(tags$style(\"#ggHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 24px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                        #                                                            plotOutput(\"ggPlots\")),\n                        #                      tabPanel(\"Temporal Dynamic\", textOutput(\"tdHeader\"),\n                        #                                                            tags$head(tags$style(\"#tdHeader{font-family: 'Trebuchet MS'; color: #666666; font-size: 24px;font-style: bold; background: #E6E6FA; text-align: center;}\")),\n                        #                                                            plotOutput(\"tdPlots\"))\n                        # \n                        #  ) )   \n                        )\n                     \n           ),\n           tags$style(type='text/css', \"#topActors { width:100%; margin-top: 25px; z-index:100;}\"),\n            tags$style(type='text/css', \"#search { margin-top: 25px; background-color:black;color:white;}\")\n            \n            \n      ),\n\n\n    #========== MOVIES ==============\n    tabItem(tabName = \"trend\", \n            fluidRow(\n              column(width=12,   \n                     box(title=\"Movie Genre Trends\", width=NULL, status= \"primary\", solidHeader=TRUE, \n                     fluidRow( \n                       column(width=12, title=\"Movies Visualisation\", #height=\"280px\", \n                              box(width=8, title=\"Genre Network Visualisation\", status= \"primary\", solidHeader=TRUE, height=\"280px\",\n                                  fluidRow(\n                                    column(width=9,plotOutput(\"gennet\"), height=\"280px\"), column(width=3, height=\"280px\",actionButton(\"vgennet\", \"Zoom\")))\n                                    #column(width=9, edgebundleOutput(\"bundleId\", width = \"100%\", height = \"280px\")))\n                                  ),\n                                  #column(width=9,plotOutput(\"gennet\"), height=\"100px\"), column(width=3, height=\"100px\",actionButton(\"vgennet\", \"Zoom\"))),\n                                  #plotOutput(\"gennet\"), actionButton(\"vgennet\", \"Zoom\")),\n                              box(width=4, title=\"Filter\", status= \"primary\", solidHeader=TRUE, height=\"280px\",\n                                  selectInput(inputId = \"movie_genres\", label = \"Select a genre\", choices = c(\"All\", genres_list$genre), selected=\"All\"),\n                                  sliderInput(inputId = \"movie_years\", label = \"Years\", min = min(imdb_data$title_year), max = max(imdb_data$title_year), value = c(min(imdb_data$title_year), max(imdb_data$title_year)), step=4)\n                                  \n                              ))\n\n                     ),\n                     fluidRow(\n                       column(width=12,\n                              box(width=8, title=\"Genres Temporal Trend\", status= \"primary\", solidHeader=TRUE,\n                                  plotOutput(\"stackPlot\", height=\"170px\")),\n                              box(width=4, title=\"Genre Frequency\", status= \"primary\", solidHeader=TRUE,\n                                  plotOutput(\"freqPlot\", height=\"170px\")))\n                                  #bubblesOutput(\"bubble\")))\n                       \n                     ), \n                     bsModal(\"genresId\", \"Genre Network Visualisation\", \"vgennet\", size=\"large\", plotOutput(\"lgnet\"))\n                     ))\n              )\n            )\n            \n     )\n)\n            \n\nshinyUI(\n  dashboardPage(\n\n    # skin\n    skin = \"blue\",\n    # Header\n    header,\n    # sidebar\n    sidebar, \n    # body\n    body)\n  \n)\n\n",
    "created" : 1502583731574.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4209182813",
    "id" : "8CF33DC4",
    "lastKnownWriteTime" : 1507508881,
    "last_content_update" : 1507508881713,
    "path" : "~/Documents/COMP5703/Shiny/Project/MoviePVA/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}